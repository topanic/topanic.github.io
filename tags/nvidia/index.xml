<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Nvidia on topanic&#39;s ğŸ«¡</title>
        <link>https://topanic.site/tags/nvidia/</link>
        <description>Recent content in Nvidia on topanic&#39;s ğŸ«¡</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en</language>
        <copyright>Github:topanic. All rights reserved.</copyright>
        <lastBuildDate>Sat, 27 Jan 2024 23:58:50 +0800</lastBuildDate><atom:link href="https://topanic.site/tags/nvidia/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Jetson Nano tips</title>
        <link>https://topanic.site/p/jetson-nano-tips/</link>
        <pubDate>Sat, 27 Jan 2024 23:58:50 +0800</pubDate>
        
        <guid>https://topanic.site/p/jetson-nano-tips/</guid>
        <description>&lt;h1 id=&#34;jetson-nano&#34;&gt;jetson nano&lt;/h1&gt;
&lt;p&gt;Jetpack: 4.6.1&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Cuda: 10.2.300&lt;/li&gt;
&lt;li&gt;cuDNN: 8.2.1.32&lt;/li&gt;
&lt;li&gt;TensorRT: 8.2.1.8&lt;/li&gt;
&lt;li&gt;OpenCV: 4.1.1&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Python: 3.6.9&lt;/p&gt;
&lt;h1 id=&#34;pythonç‰ˆæœ¬å’Œyolov5&#34;&gt;pythonç‰ˆæœ¬å’Œyolov5&lt;/h1&gt;
&lt;h2 id=&#34;jetson-nano-è‡ªå¸¦python36ä¸yolov5å†²çª&#34;&gt;jetson nano è‡ªå¸¦python3.6ä¸yolov5å†²çª&lt;/h2&gt;
&lt;p&gt;yolov5 éœ€è¦æ»¡è¶³pythonç‰ˆæœ¬&lt;strong&gt;å¤§äº3.7&lt;/strong&gt;ï¼Œè€Œjetson nanoçš„å®˜æ–¹é•œåƒè‡ªå¸¦ç‰ˆæœ¬ä¸º &lt;code&gt;python3.6.9&lt;/code&gt;ï¼Œè‡ªå¸¦çš„tensorrtä¹Ÿä»…ä»…åŒ…å«åœ¨3.6ä¸­ï¼Œä¸”ç½‘ä¸Šå¤§éƒ¨åˆ†æ•™ç¨‹éƒ½æ˜¯å›´ç»•3.6å±•å¼€ã€‚æ‰€ä»¥pythonå’Œyolov5ä¹‹é—´åœ¨nanoä¸­æœ‰äº›å†²çªã€‚&lt;/p&gt;
&lt;h2 id=&#34;è§£å†³æ–¹æ¡ˆ&#34;&gt;è§£å†³æ–¹æ¡ˆ&lt;/h2&gt;
&lt;p&gt;ä»¥ä¸‹æ˜¯æˆ‘å¯ä»¥æƒ³åˆ°çš„ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ç»§ç»­ä½¿ç”¨ jetson nano ä¸­è‡ªå¸¦çš„ python3.6.9ã€‚æ­¤ç±»æ–¹æ³•æ¯”è¾ƒå¸¸è§ï¼Œç½‘ä¸Šå¤§éƒ¨åˆ†æ•™ç¨‹ä¹Ÿæ˜¯é‡‡ç”¨æ¬¡æ–¹æ³•ã€‚ä¸»è¦æ€æƒ³æ˜¯åœ¨clone yolov5ä»£ç æ—¶é€‰æ‹©æ—©æœŸç‰ˆæœ¬ï¼Œå¯ä»¥é€‚é…python3.6çš„ã€‚&lt;em&gt;è¿™ç§è§£å†³åŠæ³•ç½‘ä¸Šæ•™ç¨‹å‚å·®ä¸é½è¿˜æ˜¯éœ€è¦å¤šè¾¨è®¤ä¸€ä¸‹ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ›´æ¢æ›´é«˜ç‰ˆæœ¬çš„pythonã€‚åœ¨è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯è¿™ç§æ–¹æ³•ï¼Œç†è®ºä¸Šæ¥è®²å¯ä»¥æœ€é«˜å¯ä»¥æ¢åˆ°python3.9ï¼Œæˆ‘è¿™é‡Œåªæ˜¯ä¸ºäº†èƒ½è·‘é€šyolov5å°±é€‰æ‹©äº† &lt;code&gt;python3.7.12&lt;/code&gt; ã€‚ä¸‹é¢éƒ¨åˆ†å†…å®¹ä¸»è¦è®²è§£æ­¤é…ç½®æ–¹æ¡ˆéœ€è¦æ³¨æ„çš„ç‚¹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;åŒ…ç®¡ç†å·¥å…·&#34;&gt;åŒ…ç®¡ç†å·¥å…·&lt;/h3&gt;
&lt;p&gt;ç¯å¢ƒç®¡ç†å·¥å…·æ–¹é¢é€‰æ‹©miniforge3ï¼Œå› ä¸ºnanoæ¶æ„ä¸ºaarch64ï¼Œä¸åŒäºæˆ‘ä»¬PCçš„amd64ï¼Œæ‰€ä»¥æ²¡åŠæ³•ä½¿ç”¨anacondaã€‚å…·ä½“å®‰è£…æ–¹æ³•googleæœä¸€ä¸‹å°±å¥½ï¼Œè¿™ä¸ªç®€å•ã€‚&lt;/p&gt;
&lt;h3 id=&#34;deepstreamçš„é€‚é…æ€§&#34;&gt;deepstreamçš„é€‚é…æ€§&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;å¦‚æœä¸çŸ¥é“deepstreamæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œé‚£å°±è¯´æ˜è¿˜æ²¡æœ‰è¿™ä¸ªéœ€æ±‚ï¼Œå¯ä»¥ç›´æ¥è·³è¿‡è¿™å—ï¼Œéœ€è¦çš„æ—¶å€™å†çœ‹ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœè¦ç”¨åˆ°deepstreamï¼Œå…¶ç‰ˆæœ¬è¦æ±‚ä¸¥æ ¼å¯¹åº”cudaç‰ˆæœ¬ã€jetpackç‰ˆæœ¬ç­‰ï¼Œéœ€è¦åœ¨nvidiaå®˜ç½‘çœ‹å¥½ï¼Œå®ƒä¹Ÿå’Œpythonç‰ˆæœ¬æœ‰ä¸¥æ ¼çš„å¯¹åº”å…³ç³»ã€‚æˆ‘åœ¨è¿™é‡Œä½¿ç”¨çš„æ˜¯&lt;code&gt;Deepstream-6.0&lt;/code&gt;ï¼Œç†è®ºä¸å®ƒé€‚é…çš„pythonç‰ˆæœ¬æ˜¯3.6.9ï¼Œæˆ‘ä½¿ç”¨python3.7ä¹Ÿå¯ä»¥æ­£å¸¸è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;deepstreamçš„å®‰è£…æ•™ç¨‹ç½‘ç»œä¸Šè‰¯è ä¸é½ï¼Œæ³¨æ„åˆ†è¾¨ã€‚
è¿™é‡Œç»™å‡ºä¸€ä¸ªæ¯”è¾ƒå¥½çš„&lt;a class=&#34;link&#34; href=&#34;https://github.com/ultralytics/yolov5/issues/9627&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æ•™ç¨‹&lt;/a&gt;ï¼Œé‡Œé¢æ—¢æœ‰å¯¹yolov5çš„å®‰è£…ï¼Œä¹Ÿæœ‰å¯¹deepstreamçš„å®‰è£…ã€‚ä½†è¿˜æ˜¯æœ‰åˆšåˆšé‚£ä¸ªpythonç‰ˆæœ¬é—®é¢˜ï¼Œå…¶ä½¿ç”¨çš„python3.69ï¼Œæ‰€ä»¥è¿˜æ˜¯ä»¥ä¸Š&lt;strong&gt;è§£å†³æ–¹æ³•&lt;/strong&gt;ä¸­çš„ä¸¤ä¸ªäºŒé€‰ä¸€ã€‚å‰©ä¸‹éƒ¨åˆ†å°±æŒ‰ç…§æ•™ç¨‹èµ°å°±å¥½ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç¬¬äºŒç§è§£å†³åŠæ³•çš„åç»­æµç¨‹&#34;&gt;ç¬¬äºŒç§è§£å†³åŠæ³•çš„åç»­æµç¨‹&lt;/h2&gt;
&lt;h3 id=&#34;tensorrt&#34;&gt;tensorrt&lt;/h3&gt;
&lt;p&gt;tensorrtæ˜¯ä¸€ä¸ªéœ€è¦ç€é‡è¯´æ˜çš„ç‚¹ã€‚jetson nanoçš„ç³»ç»Ÿç¯å¢ƒå…¶å®å°è£…çš„å¾ˆå¥½äº†ï¼Œå…¶&lt;strong&gt;ç³»ç»Ÿç¯å¢ƒä¸­çš„python3.6.9è‡ªå¸¦æœ‰tensorrt&lt;/strong&gt;ã€‚å¯ä»¥ç›´æ¥é€šè¿‡ &lt;code&gt;import tensorrt&lt;/code&gt; æ¥ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä½†å¦‚æœè¦ä½¿ç”¨é«˜ç‰ˆæœ¬çš„pythonï¼Œå°±æ²¡æœ‰tensorrtäº†ï¼Œéœ€è¦è‡ªå·±å»ç¼–è¯‘ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆä¸èƒ½é€šè¿‡pipå®‰è£…ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿˜æ˜¯ä¸Šé¢æåˆ°çš„ï¼Œjetson nanoæ˜¯aarch64æ¶æ„ï¼Œpypiå®˜ç½‘ä¸Šæ— è®ºæ˜¯tensorrtåŒ…è¿˜æ˜¯nvidia-tensorrtåŒ…ï¼Œå®ƒçš„ä¸‹è½½æ é‡Œé¢å¾ˆæ˜æ˜¾å¯ä»¥çœ‹åˆ°éƒ½æ˜¯x86æ¶æ„çš„ï¼Œæ²¡æœ‰åŠæ³•ç›´æ¥pipä¸‹è½½ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœç•™å¿ƒå°±ä¼šå‘ç°tensorrtçš„pythonåŒ…å­˜åœ¨è·¯å¾„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;em&gt;/usr/lib/python3.6/dist-packages/tensorrt&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;__ init __.py&lt;/li&gt;
&lt;li&gt;tensorrt.so&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å†…å®¹æå°‘ï¼Œåè€…å°±æ˜¯å…³é”®éƒ¨åˆ†ï¼Œä¸€ä¸ªç¼–è¯‘åçš„ç¨‹åºå‡½æ•°åº“æ–‡ä»¶ï¼Œæˆ‘ä»¬ç°åœ¨éœ€è¦åšçš„å°±å›´ç»•å®ƒè¿›è¡Œã€‚&lt;/p&gt;
&lt;h4 id=&#34;ä½ç‰ˆæœ¬pythonç›´æ¥é“¾æ¥&#34;&gt;ä½ç‰ˆæœ¬pythonï¼šç›´æ¥é“¾æ¥&lt;/h4&gt;
&lt;p&gt;å¦‚æœä½ åˆ›å»ºäº†python3.6çš„è™šæ‹Ÿç¯å¢ƒï¼Œå‘ç°tensorrtåœ¨ä½ çš„è™šæ‹Ÿç¯å¢ƒä¸‹ç”¨ä¸äº†ï¼Œå°±å¯ä»¥ç®€å•ä¸€ç‚¹ï¼Œç›´æ¥ç”¨&lt;code&gt;ln -s&lt;/code&gt;æŠŠè¿™ä¸ªtensorrtåŒ…é“¾æ¥åˆ°ä½ çš„&lt;strong&gt;è™šæ‹Ÿç¯å¢ƒçš„site-packages&lt;/strong&gt;ä¸­ã€‚&lt;/p&gt;
&lt;h4 id=&#34;é«˜ç‰ˆæœ¬pythontensorrt-python-bindings&#34;&gt;é«˜ç‰ˆæœ¬pythonï¼šTensorRT Python Bindings&lt;/h4&gt;
&lt;p&gt;å¦‚æœæ˜¯é«˜ç‰ˆæœ¬pythonï¼Œä¾‹å¦‚æˆ‘è¿™é‡Œä½¿ç”¨çš„python3.7.12ç‰ˆæœ¬å°±ä¸èƒ½ç›´æ¥é“¾æ¥ã€‚è¿™é‡Œå°±è¦ä½¿ç”¨åˆ°&lt;strong&gt;TensorRT Python Bindings&lt;/strong&gt;å·¥å…·ï¼Œæ¥ç¼–è¯‘ç”Ÿæˆå¯¹åº”ç‰ˆæœ¬çš„&lt;strong&gt;tensorrt.so&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œç»™å‡ºä¸¤ä¸ªæ­¥éª¤æ•™ç¨‹ï¼Œè¿™ä¸¤ä¸ªæ•™ç¨‹å¯¹æ¯”ç€çœ‹ï¼Œå°±å¤§è‡´å­¦ä¼šå®‰è£…æ–¹æ³•ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://forums.developer.nvidia.com/t/tensorrt-on-jetson-with-python-3-9/196131&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Tensorrt on Jetson with python 3.9&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/NVIDIA/TensorRT/tree/release/8.2/python&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å®˜æ–¹æ•™ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„ç‚¹ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;çœ‹å¥½ç‰ˆæœ¬ï¼Œä½ è¦ä½¿ç”¨çš„pythonç‰ˆæœ¬ï¼Œä¸‹è½½å¥½å¯¹åº”çš„pythonç‰ˆæœ¬æºç ã€‚&lt;/li&gt;
&lt;li&gt;TensorRTå·¥å…·çš„ç‰ˆæœ¬ï¼Œä¸æˆ‘ä»¬å¯¹åº”çš„æ˜¯&lt;strong&gt;release/8.2&lt;/strong&gt;åˆ†æ”¯ã€‚&lt;/li&gt;
&lt;li&gt;cmakeç‰ˆæœ¬è¦é«˜äº3.13ï¼Œç³»ç»Ÿè‡ªå¸¦çš„ä¸æ»¡è¶³ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;æ“ä½œè¿‡ç¨‹ç®€è¿°&#34;&gt;æ“ä½œè¿‡ç¨‹ç®€è¿°&lt;/h4&gt;
&lt;p&gt;ç ”ç©¶å¥½äº†ä¸Šé¢ç»™çš„ä¸¤ä¸ªæ•™ç¨‹ä¹‹åï¼Œç†è®ºä¸Šè®²ä½ çš„ç›®å½•ä¸­éœ€è¦å¹¶åˆ—å­˜åœ¨ä»¥ä¸‹ä¸‰ä¸ªç›®å½•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;TensorRTï¼šgithubä¸Šå…‹éš†çš„å®˜æ–¹å·¥å…·åŒ…&lt;/li&gt;
&lt;li&gt;pybind11ï¼šç¼–è¯‘è¿‡ç¨‹ä¸­éœ€è¦ä½¿ç”¨çš„å­æ¨¡å—&lt;/li&gt;
&lt;li&gt;python3.x.xï¼šå‡†å¤‡å¥½çš„python includeæºç ï¼Œéœ€è¦åŠ å…¥&lt;strong&gt;pyconfig.h&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç¬¬äºŒä¸ªæˆ‘æ„Ÿè§‰ä¸éœ€è¦ï¼Œå› ä¸ºcloneäº†TensorRTä¹‹åï¼Œä½¿ç”¨&lt;code&gt;git submodule update --init --recursive&lt;/code&gt;å°±ä¼šæŠŠpybind11ä¸€åŒcloneä¸‹æ¥ã€‚ä¸è¿‡æ”¾ç€ä¹Ÿæ— æ‰€è°“ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰ä¸€ä¸ª&lt;strong&gt;æ•™ç¨‹ä¸­æ²¡æœ‰æåˆ°çš„å¾ˆé‡è¦çš„ä¸€ä¸ªç¯èŠ‚&lt;/strong&gt;éœ€è¦åšã€‚éœ€è¦è¿›å…¥ï¼š&lt;/p&gt;
&lt;p&gt;&lt;em&gt;TensorRT/parsers/onnx/third_party/onnx/third_party/pybind11&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;ç›®å½•ä¸‹ï¼ˆå¦‚æœæ²¡æœ‰è¯¥ç›®å½•å°±æ˜¯æ²¡æœ‰æ›´æ–°å­æ¨¡å—ï¼‰ï¼Œè¾“å…¥&lt;code&gt;git checkout -b v2.6&lt;/code&gt;ï¼Œé™ä½pybind11ç‰ˆæœ¬ï¼Œæœ€æ–°ç‰ˆæœ¬æœ‰bugã€‚&lt;/p&gt;
&lt;p&gt;å®ŒæˆåæŠŠå‚æ•°è°ƒæ•´æˆä½ éœ€è¦çš„ä¹‹åï¼Œæ‰§è¡Œ&lt;strong&gt;build.sh&lt;/strong&gt;å¤§æ¦‚ç‡å°±æ˜¯å¯¹çš„ï¼Œæ­£å¸¸æƒ…å†µä¸‹ä¼šé•¿æ—¶é—´å¡åœ¨ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[ 16%] Building CXX object CMakeFiles/tensorrt.dir/src/infer/pyGraph.cpp.o
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[ 16%] Building CXX object CMakeFiles/tensorrt.dir/src/infer/pyPlugin.cpp.o
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[ 25%] Building CXX object CMakeFiles/tensorrt.dir/src/infer/pyAlgorithmSelector.cpp.o
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[ 33%] Building CXX object CMakeFiles/tensorrt.dir/src/infer/pyInt8.cpp.o
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[ 41%] Building CXX object CMakeFiles/tensorrt.dir/src/infer/pyFoundationalTypes.cpp.o
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[ 50%] Building CXX object CMakeFiles/tensorrt.dir/src/infer/pyCore.cpp.o
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[ 58%] Building CXX object CMakeFiles/tensorrt.dir/src/parsers/pyCaffe.cpp.o
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[ 66%] Building CXX object CMakeFiles/tensorrt.dir/src/parsers/pyUff.cpp.o
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[ 75%] Building CXX object CMakeFiles/tensorrt.dir/src/utils.cpp.o
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[ 91%] Building CXX object CMakeFiles/tensorrt.dir/src/parsers/pyOnnx.cpp.o
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;[ 91%] Building CXX object CMakeFiles/tensorrt.dir/src/pyTensorRT.cpp.o
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;å› ä¸ºè¿™ä¸ªéœ€è¦ç¼–è¯‘ä¸€ä¼šï¼Œå¦‚æœå¾ˆå¿«å°±ç»“æŸäº†ï¼Œå¤§æ¦‚ç‡æ˜¯å¯„äº†ï¼Œé‡æ–°å†æ£€æŸ¥é”™è¯¯å§ã€‚&lt;/p&gt;
&lt;h4 id=&#34;æ“ä½œè¿‡ç¨‹ä¸­çš„é—®é¢˜åˆé›†&#34;&gt;æ“ä½œè¿‡ç¨‹ä¸­çš„é—®é¢˜åˆé›†&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;æŠ¥é”™ï¼š c++: internal compiler error: Killed (program cc1plus)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç¼–è¯‘è¿‡ç¨‹ä¸­å†…å­˜çˆ†äº†ï¼Œçœ‹&lt;a class=&#34;link&#34; href=&#34;https://aijishu.com/a/1060000000221025&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è¿™ç¯‡æ–‡æ¡£&lt;/a&gt;çš„nanoè®¾ç½®éƒ¨åˆ†ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æŠ¥é”™ï¼š &amp;hellip; SetuptoolsDeprecationWarning: setup.py install is deprecated. &amp;hellip;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;pythonçš„setuptoolsç‰ˆæœ¬å¤ªé«˜ï¼Œé™ç‰ˆæœ¬ï¼š&lt;code&gt;pip install setuptools==58.2.0&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æŠ¥é”™ï¼š &amp;ldquo;No module named &amp;rsquo;tensorrt.tensorrt&amp;rsquo;&amp;rdquo; for generated wheel file&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;é‡åˆ°è¿™ç§æƒ…å†µæ—¶å€™ï¼Œæ•´ä¸ªæµç¨‹å¥½åƒæ²¡ä»€ä¹ˆé”™ï¼Œä½†æ˜¯ä¼šå‘ç°å®‰è£…å®Œæˆä¹‹åï¼ŒtensorrtåŒ…é‡Œé¢æ²¡æœ‰æœ€é‡è¦çš„&lt;strong&gt;tensorrt.so&lt;/strong&gt;æ–‡ä»¶ã€‚é‡åˆ°è¿™ç§æƒ…å†µå°±é™&lt;strong&gt;pybind11&lt;/strong&gt;ç‰ˆæœ¬å°±å¥½ã€‚
&lt;a class=&#34;link&#34; href=&#34;https://github.com/NVIDIA/TensorRT/issues/2288&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;issueé“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;å®Œæˆ&#34;&gt;å®Œæˆ&lt;/h3&gt;
&lt;p&gt;å®Œæˆä¸Šè¿°æ“ä½œåï¼Œå¸¦æœ‰tensorrtçš„ python3.7å°±æ•´å¥½äº†ï¼Œå¯ä»¥æ­£å¸¸ç”¨äº†ï¼Œå¦å¤–è¿˜éœ€è¦è£…ä¸€äº› pycuda å°±å¾ˆå¥½è£…äº†ï¼Œå»pypiå®˜ç½‘æŸ¥çœ‹å¯¹åº”pythonçš„ç‰ˆæœ¬å°±å¥½ï¼Œåˆ«è£…é”™äº†&lt;/p&gt;
&lt;h1 id=&#34;å¸¦æœ‰gstreamçš„opencv&#34;&gt;å¸¦æœ‰gstreamçš„opencv&lt;/h1&gt;
&lt;p&gt;åŸnanoæ¿ä¸Šé¢„è£…äº†OpenCVï¼Œè‹¥ç›´æ¥ä½¿ç”¨&lt;code&gt;nvgstcapture&lt;/code&gt;æŒ‡ä»¤å¯ä»¥æ‰“å¼€æ‘„åƒå¤´ä»£è¡¨æ‘„åƒå¤´è¿æ¥æ²¡é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨æˆ‘ä»¬ç”±äºæ›´æ¢äº†pythonç‰ˆæœ¬ï¼Œè‹¥ç›´æ¥é€šè¿‡pipå®‰è£…å°±æ²¡åŠæ³•ä½¿ç”¨gstreamï¼Œå°±ä¼šå¯¼è‡´æ‰“ä¸å¼€CSIæ‘„åƒå¤´ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é‡æ–°ç¼–è¯‘é€‚ç”¨äºpython3.7.12çš„opencvã€‚&lt;/p&gt;
&lt;h2 id=&#34;opencvç¼–è¯‘è¿‡ç¨‹&#34;&gt;opencvç¼–è¯‘è¿‡ç¨‹&lt;/h2&gt;
&lt;p&gt;å…·ä½“å®‰è£…è¿‡ç¨‹å¯ä»¥å‚ç…§æ­¤&lt;a class=&#34;link&#34; href=&#34;https://www.bilibili.com/read/cv17612080/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;åšå®¢&lt;/a&gt;æ¥å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;opencvç‰ˆæœ¬æˆ‘è¿™é‡Œé€‰æ‹©äº†4.5.5ï¼Œæ­¤ç‰ˆæœ¬ç›®å‰é€‚ç”¨äºæˆ‘ä»¬å½“å‰ç¯å¢ƒã€‚&lt;/p&gt;
&lt;p&gt;cmakeé‚£æ­¥å…·ä½“æŒ‡ä»¤å¯ä»¥æ ¹æ®æˆ‘ä¸‹é¢ç»™å‡ºçš„æ¥é€‚å½“ä¿®æ”¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cmake -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_INSTALL_PREFIX=/usr/local -D OPENCV_GENERATE_PKGCONFIG=ON -D BUILD_EXAMPLES=OFF -D INSTALL_PYTHON_EXAMPLES=OFF -D INSTALL_C_EXAMPLES=OFF -D PYTHON_EXECUTABLE=$(which python2) -D BUILD_opencv_python2=OFF -D PYTHON3_EXECUTABLE=/home/bad/miniforge3/envs/yolov5/bin/python3.7m -D WITH_GSTREAMER=ON -D PYTHON3_INCLUDE_DIR=/home/bad/miniforge3/envs/yolov5/include/python3.7m -D PYTHON3_PACKAGES_PATH= /home/bad/miniforge3/envs/yolov5/lib/python3.7/site-packages -D PYTHON3_LIBRARY=/home/bad/miniforge3/envs/yolov5/lib/libpython3.7m.so -D PYTHON3_NUMPY_INCLUDE_DIRS=/home/bad/miniforge3/envs/yolov5/lib/python3.7/site-packages/numpy/core/include -D PYTHON_DEFAULT_EXECUTABLE=/home/bad/miniforge3/envs/yolov5/bin/python3.7m ..
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;æœ€å¥½æ ¹æ®ä¸Šé¢ç»™å‡ºçš„cmakeæŒ‡ä»¤æ¥è¿›è¡Œcmakeï¼Œä¸ç„¶ä¼šmakeå¤±è´¥&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;å»ºè®®åœ¨makeçš„æ—¶å€™ä½¿ç”¨ -j4ï¼Œ è¿™æ ·ä¼šå¿«ä¸€äº›ï¼Œå½“makeåˆ°92%çš„æ—¶å€™ä½¿ç”¨ -j1ï¼Œé¿å…å¡æ­»&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;ç¼–è¯‘å®Œæˆåä¼šåœ¨æ ¹ç›®å½•ç”Ÿæˆä¸€ä¸ªcvç›®å½•ï¼Œæ­¤æ—¶åªéœ€è¦æŠŠcvç›®å½•çš„äºŒè¿›åˆ¶æ–‡ä»¶ç§»åŠ¨åˆ°condaä¸­çš„python3.7ç¯å¢ƒä¸­å³å¯ã€‚å®Œæˆä»¥ä¸Šå°±å¯ä»¥åœ¨å½“å‰çš„pythonç¯å¢ƒä¸­ä½¿ç”¨å¸¦gstreamçš„opencvã€‚&lt;/p&gt;
&lt;h1 id=&#34;pt---onnx---trt&#34;&gt;.pt -&amp;gt; .onnx -&amp;gt; .trt&lt;/h1&gt;
&lt;p&gt;åœ¨nanoæ¿ä¸Šä½¿ç”¨ç›´æ¥ä½¿ç”¨pytorchæ¥è¿›è¡Œæ¨ç†çš„è¯å¤„ç†é€Ÿåº¦ä¼šå¾ˆæ…¢ï¼Œä¼šå¯¼è‡´è§†é¢‘å¸§ç‡å˜ä½ã€‚æ‰€ä»¥åœ¨nanoæ¿ç­‰åµŒå…¥å¼ç¯å¢ƒä¸­éƒ¨ç½²æ·±åº¦å­¦ä¹ æ—¶æœ€å¥½ä½¿ç”¨tensorrtæ¨ç†çš„å½¢å¼è¿›è¡Œï¼Œè¿™ä¹Ÿæ˜¯ä¸Šæ–‡è®²è§£tensorrtç¼–è¯‘çš„ç›®çš„ï¼Œå¯ä»¥åŠ å¿«ä¸€ç‚¹å¤„ç†é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨tensorrtæ¨ç†éœ€è¦æŠŠåŸptæ–‡ä»¶è½¬æ¢ä¸ºæ¨ç†å¼•æ“æ–‡ä»¶ï¼Œé€šå¸¸ä»¥ &lt;em&gt;.engine&lt;/em&gt;æˆ–è€… &lt;em&gt;.trt&lt;/em&gt;ä¸ºä¸»ï¼Œè¿™ä¸¤è€…è²Œä¼¼æ˜¯ä¸€ä¸ªä¸œè¥¿ï¼ŒåŒºåˆ«ä¸å¤§ï¼Œå…·ä½“æœ‰ä»€ä¹ˆåŒºåˆ«è¿˜éœ€è¦å†ç ”ç©¶ç ”ç©¶ã€‚&lt;/p&gt;
&lt;p&gt;ä»æƒé‡æ–‡ä»¶è½¬æ¢ä¸ºå¼•æ“æ–‡ä»¶çš„æ–¹å¼æœ‰å¤šç§ï¼Œè¿™é‡Œåˆ—ä¸¾ä¸»è¦çš„ä¸‰ä¸ªè½¬æ¢å…¥å£ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TF-TRTï¼Œè¦æ±‚æ˜¯ TensorFlow æ¨¡å‹&lt;/li&gt;
&lt;li&gt;ONNX æ¨¡å‹æ ¼å¼&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ TensorRT API æ‰‹åŠ¨æŠŠæ¨¡å‹æ­èµ·æ¥ï¼Œç„¶åæŠŠå‚æ•°åŠ è½½è¿›å»&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¬¬ä¸‰ç§éœ€è¦ä½¿ç”¨tensorrt apiæ‰‹åŠ¨ç¼–å†™ç½‘ç»œï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œå¼€æºé¡¹ç›®&lt;a class=&#34;link&#34; href=&#34;https://github.com/wang-xinyu/tensorrtx&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Tensorrtx&lt;/a&gt;å°±ä½¿ç”¨è¿™ç§æ–¹æ³•æ¥è·å¾—.ptæ–‡ä»¶ï¼Œä½†å¦‚æœç½‘ç»œç»“æ„å‡ºç°é—®é¢˜ï¼Œé‚£å°±éœ€è¦ä¿®æ”¹æ­¤ç½‘ç»œç»“æ„ï¼Œæå…¶éº»çƒ¦ã€‚æœ‰éœ€è¦å°±ç”¨ä¸€ä¸‹ä¸Šè¿°å¼€æºé¡¹ç›®ä¸­çš„ä¸€äº›æ¨¡å‹å°±å¥½ï¼Œåœ¨ä»¥ä¸Šæ¨¡å‹ä¸­è¿›è¡Œä¿®æ”¹ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æœ¬æ–‡ä¸­ä½¿ç”¨ç¬¬äºŒç§æ–¹æ³•æ¥è·å¾—å¼•æ“æ–‡ä»¶ï¼Œä»¥ä¸‹æ˜¯å…·ä½“æµç¨‹ã€‚&lt;/p&gt;
&lt;h2 id=&#34;pt---onnx&#34;&gt;.pt -&amp;gt; .onnx&lt;/h2&gt;
&lt;p&gt;è¿™æ­¥çš„è½¬åŒ–æ™šä¸Šæ•™ç¨‹å¾ˆå¤šï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹æˆ‘æ‰¾çš„ï¼Œ&lt;a class=&#34;link&#34; href=&#34;https://github.com/tsieyy/UNet-dataset&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;U-Netä»“åº“&lt;/a&gt;ï¼ŒMainæ–‡ä»¶å¤¹ä¸­çš„**_04pt2onnx.py**ï¼Œæ­¤ä»£ç äº²æµ‹å¯ç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;onnx---trt&#34;&gt;.onnx -&amp;gt; .trt&lt;/h2&gt;
&lt;p&gt;è¯¥æ­¥éª¤éº»çƒ¦ä¸€ç‚¹ï¼Œéœ€è¦æºç ç¼–è¯‘&lt;strong&gt;onnx-tensorrt&lt;/strong&gt;ï¼Œå…·ä½“æ­¥éª¤å¯ä»¥æŸ¥çœ‹è¯¥&lt;a class=&#34;link&#34; href=&#34;https://blog.csdn.net/ll0629/article/details/125082759?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522168205015716800226573759%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;amp;request_id=168205015716800226573759&amp;amp;biz_id=0&amp;amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-125082759-null-null.142%5ev86%5einsert_down28,239%5ev2%5einsert_chatgpt&amp;amp;utm_term=unet%20tensorrt&amp;amp;spm=1018.2226.3001.4187&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;åšå®¢&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æŠ¥é”™ï¼š ç¼ºå°‘ &amp;lt;TensorrtRuntimeAPI.h&amp;gt; æ–‡ä»¶ï¼ˆæˆ‘ä¸å¤ªç¡®å®šæ˜¯ä¸æ˜¯å«è¿™ä¸ªåå­—äº†ï¼Œåæ­£æ˜¯ä¸€ä¸ªå·®ä¸å¤šçš„åå­—ï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è‹¥å‡ºç°ä¸Šè¿°é”™è¯¯ï¼Œéœ€è¦åœ¨é¡¹ç›®æ–‡ä»¶çš„CmakeLists.txtæ–‡ä»¶ä¸­æ·»åŠ è¿™ä¸ªå¤´æ–‡ä»¶ï¼ˆå…·ä½“æµç¨‹ç™¾åº¦æœä¸€ä¸‹ï¼Œè²Œä¼¼æ˜¯å«ä¸€ä¸ª &lt;em&gt;include_directories&lt;/em&gt; çš„æŒ‡ä»¤ï¼Œè®°ä¸æ¸…äº†ï¼‰ï¼Œè¯¥å¤´æ–‡ä»¶çš„å…·ä½“ä½ç½®å¯ä»¥ä½¿ç”¨ï¼š&lt;code&gt;sudo find / -name TensorrtRuntimeAPI(æŒ‰å®é™…æƒ…å†µåšä¿®æ”¹).h&lt;/code&gt; è¿™æ¡æŒ‡ä»¤æ¥å¯¹æ ¹ç›®å½•è¿›è¡ŒæŸ¥æ‰¾ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å°±åªèƒ½æ‰¾åˆ°ä¸€ä¸ªã€‚ç„¶åæŠŠåŒ…å«è¿™ä¸ªå¤´æ–‡ä»¶çš„includeæ–‡ä»¶å¤¹æ”¾åœ¨cmakeé‡Œè¾¹ï¼Œåˆ æ‰buildæ–‡ä»¶å¤¹é‡Œé¢çš„ä¸œè¥¿é‡æ–°cmakeã€‚cmakeæ²¡æœ‰ç±»ä¼¼äºcleançš„æŒ‡ä»¤ï¼Œæ‰€ä»¥åŠ¡å¿…è¦åˆ æ‰é‡æ–°æ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼šå¦‚æœcmakeé‡Œé¢æœ‰éœ€è¦å¯¹pythonç›®å½•è¿›è¡Œä¿®æ”¹çš„å°±æ”¹æˆæˆ‘ä»¬çš„condaç¯å¢ƒã€‚æ­¤æ­¥éª¤è®°ä¸å¤ªæ¸…äº†ä¸»è¦æ˜¯ã€‚&lt;/p&gt;
&lt;p&gt;å®‰è£…å®Œæˆä¹‹åå°±å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æŒ‡ä»¤æ¥è¿›è¡Œè½¬æ¢äº†ï¼Œå¦‚æœæœ‰æŠ¥é”™å¤§æ¦‚ç‡.onnxæ–‡ä»¶å°±æœ‰é—®é¢˜ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;onnx2trt best_unet.onnx -o best_unet.trt&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šæ­¥éª¤åšå®Œä¹‹åä¿®æ”¹ç¼–å†™ä¸šåŠ¡é€»è¾‘çš„ä»£ç å°±å¯ä»¥ä½¿ç”¨.trtæ–‡ä»¶æ¥è¿›è¡Œæ¨ç†äº†ã€‚&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
